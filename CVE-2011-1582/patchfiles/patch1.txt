--- tomcat/trunk/java/org/apache/catalina/core/StandardWrapper.java	2011/05/08 22:47:28	1100831
+++ tomcat/trunk/java/org/apache/catalina/core/StandardWrapper.java	2011/05/08 22:53:32	1100832
@@ -1136,7 +1136,8 @@
         if (getServlet() == null) {
             Class<?> clazz = null;
             try {
-                clazz = getParentClassLoader().loadClass(getServletClass());
+                clazz = getParent().getLoader().getClassLoader().loadClass(
+                        getServletClass());
                 processServletSecurityAnnotation(clazz);
             } catch (ClassNotFoundException e) {
                 // Safe to ignore. No class means no annotations to process
